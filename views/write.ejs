<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Write</title>
    <link href="https://fonts.googleapis.com/css?family=Monoton|Ultra" rel="stylesheet"> 
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Katibeh" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Vidaloka" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</head>
<link rel="stylesheet" href="/style.css">
<style>
        .ql-out-bottom {
    visibility: initial !important;
  }
     
      </style>
<body >
  <!--dropdown-->
  <ul id="dropdown1" class="dropdown-content">
     
      <li><a href="/profile">Profile</a></li>
      <li><a href="/upload/write">Write</a></li>
      <li class="divider"></li>
      <li><a href="/auth/logout">Logout</a></li>
    </ul>
     <!--Nav Bar-->
     <nav class="grey-text text-darken-4 hoverable  navbar-fixed" style="z-index: 10;">
            <div class="nav-wrapper container ">
                                 
                    <a href="#" class="brand-logo black-text text-darken-4 " style="font-family: 'Monoton', cursive; ">Echo<span class="grey-text text-lighten-3" style="font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif" >|</span><span class=" grey-text text-darken-3 right" style="font-family: 'Katibeh', cursive;">Blogs</span></a>
                    <a href="" class="sidenav-trigger" data-target="mobile-links" >
                      <i class="material-icons grey-text text-darken-3" style="font-size:34px;">menu</i>
                  </a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down grey-text text-darken-4">
                      
             
                <li><a href="/explore"class="grey-text text-darken-4" >Explore</a></li>
                <li ><a class="dropdown-trigger" data-target="dropdown1" style="padding-top: 10px;"> <img src="<%=user.thumbnail%>" class="circle " style="height:35px; width:35px;" ><i class="material-icons right">arrow_drop_down</i></a></li>
              </ul>
           
           </div>
           
          </nav>
          <ul class="sidenav" id="mobile-links">
              <li ><a  style="padding-top: 10px;"> <img src="<%=user.thumbnail%>" class="circle " style="height:35px; width:35px;" ></a></li>
            <li><a href="/explore"class="grey-text text-darken-4" >Explore</a></li>
            <li><a href="/profile">Profile</a></li>
            <li><a href="/upload/write">Write</a></li>
            <li class="divider"></li>
            <li><a href="/auth/logout">Logout</a></li>
            
    </ul>
          
        
<!--end-->


<!--welcome message-->
<section class="section row  grey lighten-4" >
    <div class="col s12  center container" >
        <img src="/img/detective.png" >
        <img src="/img/pi.png" >
        <img src="/img/internet.png" >
         <img src="/img/mind.png" >       
    </div>
    <div class="col s12 center grey-text text-darken-2 container" >
    <h5 style="font-weight:bold;">Give your creativity a direction</h5>
    </div>
</section>


<!--writing post-->
<section class="section container">
    <p><span class="grey-text text-darken-2">Kindly read our <span class="teal-text"> <a class="teal-text modal-trigger waves-effect" href="#modal1" style="border:1px teal solid; border-radius:5px; padding:2px 4px;">Note</a></span> before proceeding</span> </p>
      <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
        <div class="row">
         
          <ul>
            <li>Kindlly use only highly quality images availaible freely at <a href="https://pexels.com">Pexels.com</a> and <a href="https://unsplash.com">Unsplash.com</a> </li>
            <li>Click save before you post your blog</li>
            <li>Make sure your description is atleast 50 words, it should describe the basic crux of the content for the readers</li>
            
          </ul>
        </div>
    </div>
    <div class="modal-footer">
      
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Back</a>
    </div>
  </div>
  <br>
    <div class="divider"></div>
  
      <div id="error-message-area" class="pink lighten-4 red-text " style="padding:2px;"><%= typeof(msg)!='undefined'? msg:''%></div>
      
    <h5 class="grey-text text-lighten-1 padding-top:2%;"><span>Begin writing...</span>   </h5>
    <!--title and description-->
    <div class="row">
      <form  enctype="multipart/form-data" class="col s12" id="blogForm" action="/upload/upload-blog" method="POST">
        <div class="input-field col s12">
        <button type="submit"style="border:1px teal solid; border-radius:5px;" class="btn white teal-text secondary-content">Post</button>
      </div>   
        <div class="row">
            
              <div class="input-field col s12">
                    <i class="material-icons prefix teal-text">mode_edit</i>
                <input placeholder="Title of your story..." id="title" type="text" name="title" class="validate">
                <label for="title"></label>
              </div>
              <div class="input-field col s12">
                    <i class="material-icons prefix teal-text">chat</i>
                    <textarea name="description" id="text-area" class="materialize-textarea" placeholder="A short description in about 100 words..." data-length="100"></textarea>
                    <label for="text-area"></label>
                  </div>

                  <div class="input-field col s12">
                      <i class="material-icons prefix teal-text">tag</i>
                      <select multiple name="tags">
                       
                        <option value="Science">Science</option>
                        <option value="Culture">Culture</option>
                        <option value="Politics">Politics</option>
                        <option value="Technical">Technical</option>
                        <option value="Social">Social</option>
                        <option value="Arts">Arts</option>
                        <option value="Story">Story</option>
                      </select>
                      <label>Provide Tags</label>
                    </div>
                  
            </div>
        <!--end-->
  <div>
   <div class="file-field input-field">
             
        <div class="btn white teal-text" style="border:1px teal solid; border-radius:5px; ">
          <span>Upload Image</span>
          <input name="myimage" type="file">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text">
        </div>
      </div>
      <div class="input-field col s12">
      <textarea name="hiddenArea"  class="materialize-textarea"  style="display:none;" id="hiddenArea" ></textarea>
    </div>
    <div class="secondary-content"><a class="teal-text btn white waves-effect" style="border:1px teal solid; border-radius:5px; " id="save-draft" >Save</a></div>
      <!--quill-->
      
      
      <div class="section container">
        <div id="toolbar"></div>
        <div id="editor">
        </div>
       
      </div>
   
  </div>

</form>
</div>
</section>


<!--script-->
<script>
    document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems, {});
  });
       
        document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.modal');
        var instances = M.Modal.init(elems, {});
       
      });
      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems, {});
        
      
      });
      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.tooltipped');
        var instances = M.Tooltip.init(elems, {});
      });
      document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.dropdown-trigger');
    var instances = M.Dropdown.init(elems, {});
  });
    
      </script>
      <script>
      window.onload=()=>{
        var options = {
 
 modules: {
   toolbar:[ ['bold','italic','underline','link','strike'],['blockquote',
'code-block',],[{list:'ordered'},{list:'bullet'}],[{script:'sub'},{script:'super'}],[{align:[]}]]
 },
 placeholder: 'Compose an epic...',

 theme: 'snow'
};
var editor = new Quill('#editor', options);
const save=document.getElementById('save-draft');
save.onclick=()=>{
  document.getElementById('hiddenArea').innerHTML=editor.getText();
  //document.querySelector('.ql-editor').innerHTML;
}

      }
      </script>
</body>
</html>